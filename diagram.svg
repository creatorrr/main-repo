<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1148" height="1413" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: System-N

participant customer
participant twilio
participant postgres
participant aiml
participant wallaroo
participant simba
participant call center
participant restaurant

Note right of twilio: ────────\nKEA App\nBoundary\n────────

customer->twilio: Calls store\n phone number
Note right of customer: Redirected\nto twilio #

Note over postgres: Primary API\n(PostgREST)
twilio->postgres: Make request\nto application

Note over aiml: Dialogue\nEngine
postgres-->>aiml: Generate\nresponse

aiml->twilio: TwiML response
twilio-->>customer:Handle call
customer-->>twilio:

Note over wallaroo: Task\nPipeline
postgres-->>wallaroo: Trigger entity\nrecognition

Note over simba: TaskRouter
wallaroo->simba: Create order task

Note over call center: Call center\nTeam
simba-->>call center: Assign task\nto correct worker\nfor verification

call center->postgres: Order status
postgres-->>wallaroo: Order status
wallaroo->restaurant: Send order to POS system
wallaroo->customer: Send confirmation and receipt

Note left of restaurant: ────────\nKEA App\nBoundary\n────────


# A->B: Normal line
# B-->C: Dashed line
# C->>D: Open arrow
# D-->>A: Dashed open arrow]]></source><desc>System-N</desc>
<defs>
  <style type="text/css">
    <![CDATA[
    @font-face {
      font-family: 'Architects Daughter';
      font-style: normal;
      font-weight: 400;
      src: local('Architects Daughter Regular'), local('ArchitectsDaughter-Regular'), url(http://fonts.gstatic.com/l/font?kit=RXTgOOQ9AAtaVOHxx0IUBJ3EXhB8GVxcFukvVU0W_9E&skey=d34ee9a1a308e98b#ArchitectsDaughter) format('svg');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2212, U+2215;
    }
    ]]>
  </style>

  <marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker>
</defs>

<g class="title"><path d="M10,10C79.1,6.2 62.4,13.8 105.0,10.0C103.7,27.5 106.4,15.3 105.0,43.0C84.9,46.8 25.2,39.2 10.0,43.0C11.3,15.3 8.7,20.6 10.0,10.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="17" y="29" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="15">System-N</tspan></text></g><g class="actor"><path d="M10,53C88.7,57.1 43.6,48.9 113.6,53.0C111.9,70.2 115.3,70.8 113.6,96.0C53.7,100.1 97.0,91.9 10.0,96.0C8.3,80.5 11.7,65.2 10.0,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="21" y="80" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="20">customer</tspan></text></g><g class="actor"><path d="M10,1350.265625C26.6,1346.1 58.4,1354.4 113.6,1350.3C115.3,1382.9 111.9,1360.6 113.6,1393.3C88.7,1389.1 63.0,1397.4 10.0,1393.3C11.7,1360.6 8.3,1357.1 10.0,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="21" y="1377.265625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="20">customer</tspan></text></g><path d="M61.8,96.0C11.6,358.0 112.0,906.7 61.8,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M173.328125,53C203.9,55.7 230.3,50.3 241.1,53.0C239.4,74.9 242.9,66.9 241.1,96.0C187.7,98.7 189.6,93.3 173.3,96.0C171.6,74.7 175.0,79.8 173.3,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="185.328125" y="80.5" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="183.328125">twilio</tspan></text></g><g class="actor"><path d="M173.328125,1350.265625C217.9,1353.0 208.0,1347.6 241.1,1350.3C242.9,1386.4 239.4,1374.6 241.1,1393.3C192.6,1396.0 184.2,1390.6 173.3,1393.3C171.6,1363.7 175.0,1357.1 173.3,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="185.328125" y="1377.765625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="183.328125">twilio</tspan></text></g><path d="M207.2,96.0C157.1,1007.4 257.4,1049.2 207.2,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M304.296875,53C371.5,49.2 376.2,56.8 398.9,53.0C400.6,85.7 397.1,74.4 398.9,96.0C322.2,92.2 383.7,99.8 304.3,96.0C302.6,59.9 306.0,76.8 304.3,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="315.296875" y="77" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="314.296875">postgres</tspan></text></g><g class="actor"><path d="M304.296875,1350.265625C338.2,1346.5 374.6,1354.0 398.9,1350.3C400.6,1360.6 397.1,1382.9 398.9,1393.3C376.2,1397.0 383.7,1389.5 304.3,1393.3C306.0,1364.5 302.6,1360.6 304.3,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="315.296875" y="1374.265625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="314.296875">postgres</tspan></text></g><path d="M351.6,96.0C301.4,843.3 401.7,990.9 351.6,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M423.65625,53C432.6,55.2 437.3,50.8 479.3,53.0C477.6,81.1 481.1,67.0 479.3,96.0C449.4,93.8 466.9,98.2 423.7,96.0C421.9,73.5 425.4,87.0 423.7,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="434.65625" y="80.5" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="433.65625">aiml</tspan></text></g><g class="actor"><path d="M423.65625,1350.265625C467.0,1348.0 461.4,1352.5 479.3,1350.3C477.6,1385.8 481.1,1357.1 479.3,1393.3C432.6,1391.0 446.8,1395.5 423.7,1393.3C421.9,1357.1 425.4,1360.6 423.7,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="434.65625" y="1377.765625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="433.65625">aiml</tspan></text></g><path d="M451.5,96.0C501.7,1149.6 401.3,1049.2 451.5,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M499.34375,53C572.1,56.7 550.5,49.3 592.3,53.0C590.5,75.5 594.0,85.7 592.3,96.0C569.9,92.3 577.4,99.7 499.3,96.0C501.1,85.7 497.6,89.1 499.3,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="510.34375" y="80.5" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="509.34375">wallaroo</tspan></text></g><g class="actor"><path d="M499.34375,1350.265625C540.2,1354.0 570.0,1346.5 592.3,1350.3C590.5,1376.9 594.0,1382.9 592.3,1393.3C521.6,1389.5 570.0,1397.0 499.3,1393.3C501.1,1369.9 497.6,1360.6 499.3,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="510.34375" y="1377.765625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="509.34375">wallaroo</tspan></text></g><path d="M545.8,96.0C495.6,308.6 596.0,794.9 545.8,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M696.609375,53C749.0,55.8 713.2,50.2 765.6,53.0C763.9,64.8 767.3,66.0 765.6,96.0C716.4,98.8 720.7,93.2 696.6,96.0C694.9,59.9 698.3,89.1 696.6,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="707.609375" y="80" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="706.609375">simba</tspan></text></g><g class="actor"><path d="M696.609375,1350.265625C745.6,1353.0 707.6,1347.5 765.6,1350.3C763.9,1363.9 767.3,1371.2 765.6,1393.3C754.6,1396.0 741.6,1390.5 696.6,1393.3C694.9,1364.3 698.3,1368.5 696.6,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="707.609375" y="1377.265625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="706.609375">simba</tspan></text></g><path d="M731.1,96.0C781.3,804.2 680.9,636.4 731.1,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M861.6796875,53C941.5,57.4 916.8,48.6 971.3,53.0C969.6,89.1 973.1,85.7 971.3,96.0C932.2,91.6 937.6,100.4 861.7,96.0C860.0,89.1 863.4,70.1 861.7,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="872.6796875" y="80.5" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="871.6796875">call center</tspan></text></g><g class="actor"><path d="M861.6796875,1350.265625C953.8,1345.9 941.9,1354.7 971.3,1350.3C969.6,1382.9 973.1,1361.5 971.3,1393.3C879.2,1388.9 924.1,1397.7 861.7,1393.3C863.4,1377.9 860.0,1386.4 861.7,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="872.6796875" y="1377.765625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="871.6796875">call center</tspan></text></g><path d="M916.5,96.0C966.7,972.8 866.3,1049.2 916.5,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1003.6171875,53C1032.9,48.4 1065.9,57.6 1118.1,53.0C1119.8,82.1 1116.4,63.3 1118.1,96.0C1031.1,91.4 1082.0,100.6 1003.6,96.0C1001.9,87.3 1005.3,78.8 1003.6,53.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1014.6171875" y="80" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="1013.6171875">restaurant</tspan></text></g><g class="actor"><path d="M1003.6171875,1350.265625C1031.1,1345.7 1090.6,1354.8 1118.1,1350.3C1116.4,1360.6 1119.8,1382.9 1118.1,1393.3C1090.6,1388.7 1031.1,1397.8 1003.6,1393.3C1001.9,1360.5 1005.3,1386.4 1003.6,1350.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1014.6171875" y="1377.265625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="1013.6171875">restaurant</tspan></text></g><path d="M1060.9,96.0C1111.0,998.0 1010.7,977.7 1060.9,1350.3" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="note"><path d="M227.234375,116C243.9,111.8 258.4,120.2 331.6,116.0C334.9,179.5 328.2,136.1 331.6,199.6C296.3,203.8 305.8,195.4 227.2,199.6C230.6,154.7 223.9,178.2 227.2,116.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="234.234375" y="134" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="232.234375">────────</tspan><tspan dy="1.2em" x="232.234375">KEA App</tspan><tspan dy="1.2em" x="232.234375">Boundary</tspan><tspan dy="1.2em" x="232.234375">────────</tspan></text></g><g class="signal"><text x="73.828125" y="218.5" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="72.828125">Calls store</tspan><tspan dy="1.2em" x="72.828125">phone number</tspan></text><path d="M61.8,261.8C96.7,267.6 102.8,256.0 207.2,261.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M81.796875,281.78125C110.5,286.0 98.7,277.6 187.2,281.8C185.3,293.1 189.1,303.3 187.2,329.0C128.9,333.2 136.2,324.8 81.8,329.0C83.7,311.4 79.9,300.0 81.8,281.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="88.796875" y="301.78125" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="86.796875">Redirected</tspan><tspan dy="1.2em" x="86.796875">to twilio #</tspan></text></g><g class="note"><path d="M290.1015625,348.96875C364.0,344.1 393.4,353.9 413.1,349.0C410.9,361.7 415.2,377.8 413.1,402.2C309.8,407.1 319.6,397.2 290.1,402.2C292.2,369.1 288.0,382.9 290.1,349.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="296.1015625" y="368.96875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="295.1015625">Primary API</tspan><tspan dy="1.2em" x="295.1015625">(PostgREST)</tspan></text></g><g class="signal"><text x="221.2734375" y="421.5625" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="219.2734375">Make request</tspan><tspan dy="1.2em" x="219.2734375">to application</tspan></text><path d="M207.2,465.3C245.8,471.1 281.8,459.6 351.6,465.3" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M410.1640625,485.34375C473.0,488.7 459.7,482.0 492.8,485.3C490.7,493.9 495.0,512.1 492.8,538.5C473.5,541.8 448.1,535.2 410.2,538.5C408.0,520.1 412.3,509.0 410.2,485.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="416.1640625" y="505.34375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="415.1640625">Dialogue</tspan><tspan dy="1.2em" x="415.1640625">Engine</tspan></text></g><g class="signal"><text x="362.578125" y="556.9375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="361.578125">Generate</tspan><tspan dy="1.2em" x="361.578125">response</tspan></text><path d="M351.6,599.7C369.6,603.7 375.6,595.7 451.5,599.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="258.9140625" y="628.71875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="257.9140625">TwiML response</tspan></text><path d="M451.5,643.7C392.9,653.5 348.0,633.9 207.2,643.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="89.7109375" y="674.71875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="88.7109375">Handle call</tspan></text><path d="M207.2,681.7C89.7,675.9 184.0,687.5 61.8,681.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="134.515625" y="706.71875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="134.515625"></tspan></text><path d="M61.8,701.7C168.4,695.9 85.1,707.5 207.2,701.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M510.375,721.71875C527.4,724.6 526.3,718.9 581.2,721.7C579.2,764.7 583.3,746.8 581.2,772.9C549.1,770.1 549.1,775.7 510.4,772.9C508.3,764.7 512.4,731.9 510.4,721.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="516.375" y="740.71875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="515.375">Task</tspan><tspan dy="1.2em" x="515.375">Pipeline</tspan></text></g><g class="signal"><text x="390.26171875" y="790.8125" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="389.26171875">Trigger entity</tspan><tspan dy="1.2em" x="389.26171875">recognition</tspan></text><path d="M351.6,835.1C398.2,827.3 404.0,842.9 545.8,835.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M674.3984375,855.09375C692.5,850.6 701.6,859.6 787.8,855.1C788.9,859.4 786.7,861.6 787.8,882.1C733.8,886.6 720.9,877.6 674.4,882.1C673.3,877.8 675.5,875.6 674.4,855.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="680.3984375" y="874.09375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="679.3984375">TaskRouter</tspan></text></g><g class="signal"><text x="556.8046875" y="913.09375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="555.8046875">Create order task</tspan></text><path d="M545.8,920.1C604.3,912.7 575.5,927.5 731.1,920.1" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M862.625,940.09375C899.3,935.8 885.5,944.4 970.4,940.1C968.5,954.5 972.3,951.9 970.4,987.3C953.1,991.6 939.7,983.0 862.6,987.3C864.5,956.0 860.7,976.0 862.6,940.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="868.625" y="960.09375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="867.625">Call center</tspan><tspan dy="1.2em" x="867.625">Team</tspan></text></g><g class="signal"><text x="743.1015625" y="999.0859375" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="741.1015625">Assign task</tspan><tspan dy="1.2em" x="741.1015625">to correct worker</tspan><tspan dy="1.2em" x="741.1015625">for verification</tspan></text><path d="M731.1,1063.7C851.4,1056.3 849.8,1071.1 916.5,1063.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="574.77734375" y="1094.671875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="573.77734375">Order status</tspan></text><path d="M916.5,1101.7C780.9,1079.1 652.2,1124.3 351.6,1101.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="389.42578125" y="1132.671875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="388.42578125">Order status</tspan></text><path d="M351.6,1139.7C407.9,1147.4 395.6,1131.9 545.8,1139.7" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="685.3203125" y="1167.671875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="683.3203125">Send order to POS system</tspan></text><path d="M545.8,1183.7C927.3,1163.1 669.4,1204.3 1060.9,1183.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="174.89453125" y="1212.171875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="172.89453125">Send confirmation and receipt</tspan></text><path d="M545.8,1226.7C256.1,1246.0 468.4,1207.3 61.8,1226.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M936.5078125,1246.671875C978.1,1242.5 1003.4,1250.8 1040.9,1246.7C1037.5,1308.3 1044.2,1260.0 1040.9,1330.3C970.5,1326.1 961.6,1334.4 936.5,1330.3C939.9,1306.7 933.2,1292.2 936.5,1246.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="943.5078125" y="1264.671875" style="font-size: 16px; font-family: 'Architects Daughter';"><tspan x="941.5078125">────────</tspan><tspan dy="1.2em" x="941.5078125">KEA App</tspan><tspan dy="1.2em" x="941.5078125">Boundary</tspan><tspan dy="1.2em" x="941.5078125">────────</tspan></text></g></svg>
