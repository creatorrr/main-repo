<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1247" height="1396" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Title: System-N                                                                                                                                                                                                    
                                                                                                                                                                                                                   
participant customer                                                                                                                                                                                               
participant twilio                                                                                                                                                                                                 
participant data_api                                                                                                                                                                                               
participant dialog_manager                                                                                                                                                                                         
participant bg_tasks                                                                                                                                                                                               
participant taskrouter                                                                                                                                                                                             
participant call center                                                                                                                                                                                            
participant restaurant                                                                                                                                                                                             
                                                                                                                                                                                                                   
Note right of twilio: ────────\nkea App\nBoundary\n────────                                                                                                                                                        
                                                                                                                                                                                                                   
customer->twilio: Calls store\n phone number                                                                                                                                                                       
Note right of customer: Redirected\nto twilio #                                                                                                                                                                    
                                                                                                                                                                                                                   
Note over data_api: Primary API\n(PostgREST)                                                                                                                                                                       
twilio->data_api: Make request\nto application                                                                                                                                                                     
                                                                                                                                                                                                                   
Note over dialog_manager: Dialogue\nEngine                                                                                                                                                                         
data_api->dialog_manager: Generate\nresponse                                                                                                                                                                       
                                                                                                                                                                                                                   
dialog_manager->twilio: TwiML response                                                                                                                                                                             
twilio->customer:Handle call                                                                                                                                                                                       
customer->twilio:                                                                                                                                                                                                  
                                                                                                                                                                                                                   
Note over bg_tasks: Background\nTasks                                                                                                                                                                              
data_api->bg_tasks: Trigger entity\nrecognition                                                                                                                                                                    
                                                                                                                                                                                                                   
Note over taskrouter: Task\nRouter                                                                                                                                                                                 
bg_tasks->taskrouter: Create order task                                                                                                                                                                            
                                                                                                                                                                                                                   
Note over call center: Call center\nTeam                                                                                                                                                                           
taskrouter->call center: Assign task\nto correct worker\nfor verification                                                                                                                                          
                                                                                                                                                                                                                   
call center->data_api: Order status                                                                                                                                                                                
data_api->bg_tasks: Order status
bg_tasks->restaurant: Send order to POS system
bg_tasks->customer: Send confirmation and receipt

Note left of restaurant: ────────\nkea App\nBoundary\n────────
]]></source><desc>System-N</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><path d="M10,10C81.1,6.3 88.6,13.7 103.5,10.0C102.3,30.2 104.8,18.7 103.5,41.5C25.0,37.8 52.6,45.2 10.0,41.5C11.3,23.1 8.7,19.8 10.0,10.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="16" y="28" style="font-size: 16px; font-family: danielbd;"><tspan x="15">System-N</tspan></text></g><g class="actor"><path d="M10,51.5C94.3,47.4 26.4,55.6 112.6,51.5C114.3,60.9 110.9,64.9 112.6,93.5C32.3,89.4 96.2,97.6 10.0,93.5C11.7,67.6 8.3,73.2 10.0,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20.5" y="77.25" style="font-size: 16px; font-family: danielbd;"><tspan x="20">customer</tspan></text></g><g class="actor"><path d="M10,1334.953125C76.4,1330.8 26.4,1339.1 112.6,1335.0C114.3,1343.8 110.9,1354.5 112.6,1377.0C88.0,1381.1 34.6,1372.8 10.0,1377.0C8.3,1355.3 11.7,1347.9 10.0,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20.5" y="1360.703125" style="font-size: 16px; font-family: danielbd;"><tspan x="20">customer</tspan></text></g><path d="M61.3,93.5C111.0,862.2 11.6,1026.8 61.3,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M171.828125,51.5C188.8,48.9 207.1,54.1 237.6,51.5C239.3,86.8 236.0,69.4 237.6,93.5C204.2,96.1 227.1,90.9 171.8,93.5C173.5,80.5 170.1,68.8 171.8,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="182.828125" y="77.5" style="font-size: 16px; font-family: danielbd;"><tspan x="181.828125">twilio</tspan></text></g><g class="actor"><path d="M171.828125,1334.953125C204.4,1337.6 187.6,1332.3 237.6,1335.0C239.3,1366.3 236.0,1353.8 237.6,1377.0C209.3,1374.3 184.5,1379.6 171.8,1377.0C173.5,1347.2 170.1,1345.0 171.8,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="182.828125" y="1360.953125" style="font-size: 16px; font-family: danielbd;"><tspan x="181.828125">twilio</tspan></text></g><path d="M204.7,93.5C155.1,1136.3 254.4,1037.0 204.7,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M295.328125,51.5C328.6,55.6 317.2,47.4 398.8,51.5C397.1,86.8 400.5,58.2 398.8,93.5C338.9,97.6 374.0,89.4 295.3,93.5C297.0,74.2 293.6,58.2 295.3,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="305.828125" y="75.75" style="font-size: 16px; font-family: danielbd;"><tspan x="305.328125">data_api</tspan></text></g><g class="actor"><path d="M295.328125,1334.953125C375.0,1339.1 368.0,1330.8 398.8,1335.0C397.1,1349.2 400.5,1355.0 398.8,1377.0C382.3,1372.8 328.7,1381.1 295.3,1377.0C297.0,1345.0 293.6,1347.9 295.3,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="305.828125" y="1359.203125" style="font-size: 16px; font-family: danielbd;"><tspan x="305.328125">data_api</tspan></text></g><path d="M347.1,93.5C297.4,1037.0 396.7,391.4 347.1,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M418.828125,51.5C444.3,57.9 462.8,45.1 578.2,51.5C579.9,83.4 576.5,86.8 578.2,93.5C482.0,87.1 544.7,99.9 418.8,93.5C420.5,83.4 417.1,63.0 418.8,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="429.328125" y="75" style="font-size: 16px; font-family: danielbd;"><tspan x="428.828125">dialog_manager</tspan></text></g><g class="actor"><path d="M418.828125,1334.953125C444.3,1328.6 552.7,1341.3 578.2,1335.0C579.9,1366.9 576.5,1369.5 578.2,1377.0C488.1,1383.3 484.5,1370.6 418.8,1377.0C417.1,1345.0 420.5,1346.9 418.8,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="429.328125" y="1358.453125" style="font-size: 16px; font-family: danielbd;"><tspan x="428.828125">dialog_manager</tspan></text></g><path d="M498.5,93.5C448.8,1037.0 548.2,1085.4 498.5,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M598.171875,51.5C634.5,55.7 662.7,47.3 703.1,51.5C701.4,86.8 704.8,69.0 703.1,93.5C628.7,89.3 623.4,97.7 598.2,93.5C596.5,62.8 599.9,83.4 598.2,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="608.671875" y="74.75" style="font-size: 16px; font-family: danielbd;"><tspan x="608.171875">bg_tasks</tspan></text></g><g class="actor"><path d="M598.171875,1334.953125C615.0,1339.2 623.4,1330.8 703.1,1335.0C704.8,1365.9 701.4,1347.0 703.1,1377.0C615.0,1381.2 638.6,1372.8 598.2,1377.0C599.9,1345.0 596.5,1366.9 598.2,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="608.671875" y="1358.203125" style="font-size: 16px; font-family: danielbd;"><tspan x="608.171875">bg_tasks</tspan></text></g><path d="M650.6,93.5C601.0,392.0 700.3,1015.2 650.6,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M776.3203125,51.5C864.7,56.1 848.4,46.9 892.6,51.5C890.9,63.4 894.2,71.6 892.6,93.5C804.2,88.9 864.7,98.1 776.3,93.5C774.6,59.0 778.0,61.6 776.3,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="787.3203125" y="77.25" style="font-size: 16px; font-family: danielbd;"><tspan x="786.3203125">taskrouter</tspan></text></g><g class="actor"><path d="M776.3203125,1334.953125C794.9,1330.3 846.0,1339.6 892.6,1335.0C890.9,1370.2 894.2,1341.7 892.6,1377.0C794.9,1372.3 866.5,1381.6 776.3,1377.0C778.0,1354.1 774.6,1356.6 776.3,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="787.3203125" y="1360.703125" style="font-size: 16px; font-family: danielbd;"><tspan x="786.3203125">taskrouter</tspan></text></g><path d="M834.4,93.5C784.8,900.1 884.1,1037.0 834.4,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M964.015625,51.5C1000.5,47.2 1055.3,55.8 1072.7,51.5C1074.4,86.8 1071.0,80.5 1072.7,93.5C1048.4,89.2 1043.6,97.8 964.0,93.5C962.3,74.0 965.7,64.4 964.0,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="974.515625" y="77.5" style="font-size: 16px; font-family: danielbd;"><tspan x="974.015625">call center</tspan></text></g><g class="actor"><path d="M964.015625,1334.953125C1055.3,1339.3 1035.3,1330.6 1072.7,1335.0C1071.0,1358.8 1074.4,1352.6 1072.7,1377.0C995.0,1381.3 981.4,1372.6 964.0,1377.0C965.7,1366.9 962.3,1364.5 964.0,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="974.515625" y="1360.953125" style="font-size: 16px; font-family: danielbd;"><tspan x="974.015625">call center</tspan></text></g><path d="M1018.3,93.5C1068.0,1037.0 968.7,1136.3 1018.3,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1103.953125,51.5C1131.2,47.0 1190.2,56.0 1217.4,51.5C1215.7,71.5 1219.1,63.8 1217.4,93.5C1131.2,89.0 1122.1,98.0 1104.0,93.5C1105.6,61.6 1102.3,58.2 1104.0,51.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1114.453125" y="77.25" style="font-size: 16px; font-family: danielbd;"><tspan x="1113.953125">restaurant</tspan></text></g><g class="actor"><path d="M1103.953125,1334.953125C1132.9,1339.5 1187.8,1330.4 1217.4,1335.0C1215.7,1345.0 1219.1,1341.7 1217.4,1377.0C1150.9,1372.4 1169.9,1381.5 1104.0,1377.0C1102.3,1368.3 1105.6,1366.9 1104.0,1335.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1114.453125" y="1360.703125" style="font-size: 16px; font-family: danielbd;"><tspan x="1113.953125">restaurant</tspan></text></g><path d="M1160.7,93.5C1210.3,1037.0 1111.0,391.4 1160.7,1335.0" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="note"><path d="M224.734375,113.5C264.6,109.4 280.3,117.6 327.1,113.5C330.4,174.9 323.7,160.2 327.1,197.1C302.5,193.0 249.3,201.2 224.7,197.1C221.4,141.5 228.1,177.0 224.7,113.5" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="230.734375" y="131" style="font-size: 16px; font-family: danielbd;"><tspan x="229.734375">────────</tspan><tspan dy="1.2em" x="229.734375">kea App</tspan><tspan dy="1.2em" x="229.734375">Boundary</tspan><tspan dy="1.2em" x="229.734375">────────</tspan></text></g><g class="signal"><text x="72.328125" y="215.75" style="font-size: 16px; font-family: danielbd;"><tspan x="71.828125">Calls store</tspan><tspan dy="1.2em" x="71.828125">phone number</tspan></text><path d="M61.3,256.8C145.6,251.0 104.2,262.5 204.7,256.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M81.296875,276.78125C106.1,280.9 126.5,272.6 184.7,276.8C186.6,297.9 182.9,308.9 184.7,323.0C97.8,318.8 168.2,327.1 81.3,323.0C79.4,302.3 83.1,305.9 81.3,276.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="87.296875" y="295.28125" style="font-size: 16px; font-family: danielbd;"><tspan x="86.296875">Redirected</tspan><tspan dy="1.2em" x="86.296875">to twilio #</tspan></text></g><g class="note"><path d="M286.3515625,342.96875C315.5,338.1 378.7,347.8 407.8,343.0C409.9,355.3 405.7,386.4 407.8,394.7C353.4,399.5 380.9,389.8 286.4,394.7C284.3,382.8 288.4,351.2 286.4,343.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="291.8515625" y="361.96875" style="font-size: 16px; font-family: danielbd;"><tspan x="291.3515625">Primary API</tspan><tspan dy="1.2em" x="291.3515625">(PostgREST)</tspan></text></g><g class="signal"><text x="217.5234375" y="413.3125" style="font-size: 16px; font-family: danielbd;"><tspan x="216.5234375">Make request</tspan><tspan dy="1.2em" x="216.5234375">to application</tspan></text><path d="M204.7,454.3C246.4,448.6 307.5,460.0 347.1,454.3" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M457.6640625,474.34375C477.3,477.6 470.7,471.1 539.3,474.3C537.3,500.2 541.4,486.1 539.3,525.5C519.7,522.3 522.2,528.8 457.7,525.5C459.7,482.5 455.6,514.1 457.7,474.3" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="463.1640625" y="492.84375" style="font-size: 16px; font-family: danielbd;"><tspan x="462.6640625">Dialogue</tspan><tspan dy="1.2em" x="462.6640625">Engine</tspan></text></g><g class="signal"><text x="383.828125" y="544.1875" style="font-size: 16px; font-family: danielbd;"><tspan x="383.328125">Generate</tspan><tspan dy="1.2em" x="383.328125">response</tspan></text><path d="M347.1,585.2C462.2,579.2 383.4,591.3 498.5,585.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="280.9140625" y="613.46875" style="font-size: 16px; font-family: danielbd;"><tspan x="280.9140625">TwiML response</tspan></text><path d="M498.5,625.7C292.7,637.5 427.3,614.0 204.7,625.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="88.4609375" y="655.71875" style="font-size: 16px; font-family: danielbd;"><tspan x="87.9609375">Handle call</tspan></text><path d="M204.7,662.7C129.2,657.0 95.7,668.5 61.3,662.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="133.015625" y="687.71875" style="font-size: 16px; font-family: danielbd;"><tspan x="133.015625"></tspan></text><path d="M61.3,682.7C84.2,677.0 95.7,688.5 204.7,682.7" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M593.4765625,702.71875C633.7,707.3 628.1,698.1 707.8,702.7C709.7,713.9 705.9,716.1 707.8,749.4C680.4,744.8 677.2,754.0 593.5,749.4C591.6,710.2 595.3,741.9 593.5,702.7" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="598.9765625" y="721.71875" style="font-size: 16px; font-family: danielbd;"><tspan x="598.4765625">Background</tspan><tspan dy="1.2em" x="598.4765625">Tasks</tspan></text></g><g class="signal"><text x="440.6796875" y="767.0625" style="font-size: 16px; font-family: danielbd;"><tspan x="440.1796875">Trigger entity</tspan><tspan dy="1.2em" x="440.1796875">recognition</tspan></text><path d="M347.1,810.1C602.1,822.2 520.5,798.0 650.6,810.1" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M798.46875,830.09375C858.9,833.0 853.1,827.2 870.4,830.1C872.2,858.9 868.6,837.4 870.4,875.8C858.9,872.9 848.3,878.7 798.5,875.8C796.6,843.2 800.3,857.8 798.5,830.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="803.46875" y="848.09375" style="font-size: 16px; font-family: danielbd;"><tspan x="803.46875">Task</tspan><tspan dy="1.2em" x="803.46875">Router</tspan></text></g><g class="signal"><text x="661.140625" y="905.78125" style="font-size: 16px; font-family: danielbd;"><tspan x="660.640625">Create order task</tspan></text><path d="M650.6,912.8C789.2,920.1 698.0,905.4 834.4,912.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M964.9609375,932.78125C990.6,937.1 982.0,928.5 1071.7,932.8C1069.9,954.3 1073.6,940.2 1071.7,979.0C1033.0,983.2 1045.6,974.7 965.0,979.0C963.1,952.8 966.8,962.7 965.0,932.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="970.4609375" y="951.28125" style="font-size: 16px; font-family: danielbd;"><tspan x="969.9609375">Call center</tspan><tspan dy="1.2em" x="969.9609375">Team</tspan></text></g><g class="signal"><text x="845.4375" y="990.0234375" style="font-size: 16px; font-family: danielbd;"><tspan x="844.4375">Assign task</tspan><tspan dy="1.2em" x="844.4375">to correct worker</tspan><tspan dy="1.2em" x="844.4375">for verification</tspan></text><path d="M834.4,1054.9C878.6,1062.2 863.9,1047.5 1018.3,1054.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="623.4453125" y="1084.859375" style="font-size: 16px; font-family: danielbd;"><tspan x="622.9453125">Order status</tspan></text><path d="M1018.3,1091.9C841.3,1065.0 508.2,1118.7 347.1,1091.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="439.59375" y="1121.859375" style="font-size: 16px; font-family: danielbd;"><tspan x="439.09375">Order status</tspan></text><path d="M347.1,1128.9C569.2,1141.0 555.6,1116.7 650.6,1128.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="787.40625" y="1156.359375" style="font-size: 16px; font-family: danielbd;"><tspan x="786.40625">Send order to POS system</tspan></text><path d="M650.6,1170.9C732.2,1150.5 773.1,1191.3 1160.7,1170.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="226.8125" y="1199.109375" style="font-size: 16px; font-family: danielbd;"><tspan x="225.8125">Send confirmation and receipt</tspan></text><path d="M650.6,1211.4C556.3,1234.9 509.2,1187.8 61.3,1211.4" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="note"><path d="M1038.34375,1231.359375C1107.6,1235.5 1062.9,1227.3 1140.7,1231.4C1137.3,1289.1 1144.0,1275.1 1140.7,1315.0C1062.9,1319.0 1097.6,1310.9 1038.3,1315.0C1035.0,1270.3 1041.7,1286.0 1038.3,1231.4" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1044.34375" y="1248.859375" style="font-size: 16px; font-family: danielbd;"><tspan x="1043.34375">────────</tspan><tspan dy="1.2em" x="1043.34375">kea App</tspan><tspan dy="1.2em" x="1043.34375">Boundary</tspan><tspan dy="1.2em" x="1043.34375">────────</tspan></text></g></svg>